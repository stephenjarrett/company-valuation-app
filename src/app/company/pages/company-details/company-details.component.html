<div class="container mt-5">
  <div>
    <button mat-raised-button color="primary">Company Analytics</button>
  </div>
  <div class="m-2">
    <button
      mat-raised-button
      color="primary"
      (click)="onClickEdit()"
      *ngIf="showEdit"
    >
      Edit
    </button>
    <button
      mat-raised-button
      color="primary"
      *ngIf="showDelete"
      (click)="onClickDelete()"
    >
      Delete
    </button>
    <button
      mat-raised-button
      color="primary"
      *ngIf="showSave"
      [disabled]="!companyDetailForm.valid || companyDetailForm.pristine"
    >
      Save
    </button>
    <button
      mat-raised-button
      color="primary"
      (click)="onClickCancel()"
      *ngIf="showCancel"
    >
      Cancel
    </button>
  </div>
  <form [formGroup]="companyDetailForm">
    <mat-accordion class="mt-4">
      <mat-expansion-panel expanded>
        <mat-expansion-panel-header>
          <mat-panel-title>
            <strong>
              Basic Company Information
            </strong>
          </mat-panel-title>
          <mat-panel-description> </mat-panel-description>
        </mat-expansion-panel-header>
        <!-- <mat-card> -->
        <!-- <mat-card-content class="flex"> -->
        <div class="row">
          <mat-form-field appearance="standard" class="col">
            <mat-label>*Company Name</mat-label>
            <input
              #inputCompanyNameRef
              formControlName="companyName"
              matInput
            />
            <mat-error *ngIf="companyName.hasError('required')"
              >Company name is required</mat-error
            >
            <mat-error *ngIf="companyName.hasError('maxlength')"
              >Maximum of 100 characters</mat-error
            >
            <!-- <mat-error *ngIf="companyName.hasError('companyNameInUse')">{{
              companyName.getError('companyNameInUse').value
            }}</mat-error> -->
          </mat-form-field>
          <mat-form-field appearance="standard" class="col">
            <mat-label>*Valuation Status</mat-label>
            <mat-select formControlName="status" matInput>
              <mat-option>--</mat-option>
              <mat-option
                *ngFor="let option of statusOptions"
                [value]="option"
                >{{ option }}</mat-option
              >
            </mat-select>
            <mat-error *ngIf="status.hasError('required')">
              Status is required
            </mat-error>
          </mat-form-field>
        </div>
        <div class="row">
          <mat-form-field appearance="standard" class="col">
            <mat-label>*Industry</mat-label>
            <input
              formControlName="industry"
              matInput
              [matAutocomplete]="autoIndustry"
            />
            <mat-autocomplete #autoIndustry="matAutocomplete">
              <mat-option
                *ngFor="let option of (filteredIndustries | async)"
                [value]="option"
              >
                {{ option }}
              </mat-option>
            </mat-autocomplete>
            <mat-error *ngIf="industry.hasError('required')"
              >Industry is required</mat-error
            >
          </mat-form-field>
          <mat-form-field appearance="standard" class="col">
            <mat-label>*Company Size</mat-label>
            <mat-select formControlName="size" matInput>
              <mat-option *ngFor="let size of sizeOptions" [value]="size">
                {{ size }}
              </mat-option>
            </mat-select>
            <mat-error *ngIf="size.hasError('required')"
              >Size is required</mat-error
            >
          </mat-form-field>
        </div>
        <div class="row">
          <mat-form-field appearance="standard" class="col">
            <mat-label>*Year Founded</mat-label>
            <mat-select formControlName="yearFounded" matInput type="number">
              <mat-option *ngFor="let option of yearRange" [value]="option">
                {{ option }}
              </mat-option>
            </mat-select>
            <mat-error *ngIf="yearFounded.hasError('required')">
              Year Founded is required
            </mat-error>
          </mat-form-field>
          <mat-form-field appearance="standard" class="col">
            <mat-label>*City</mat-label>
            <input formControlName="city" matInput />
            <mat-error *ngIf="city.hasError('required')"
              >City is required</mat-error
            >
            <mat-error *ngIf="city.hasError('maxlength')"
              >Maximum of 50 characters</mat-error
            >
          </mat-form-field>
          <mat-form-field appearance="standard" class="col">
            <mat-label>*State</mat-label>
            <mat-select formControlName="state" matInput>
              <mat-option>--</mat-option>
              <mat-option
                *ngFor="let option of stateOptions"
                [value]="option"
                >{{ option }}</mat-option
              >
            </mat-select>
          </mat-form-field>
        </div>
        <mat-form-field appearance="standard" class="col">
          <mat-label>Company Description</mat-label>
          <textarea
            class="full-width-field"
            formControlName="description"
            matInput
            matTextareaAutosize
          ></textarea>
          <mat-error *ngIf="description.hasError('required')"
            >Description is required</mat-error
          >
          <mat-error *ngIf="description.hasError('maxlength')"
            >Maximum of 1000 characters</mat-error
          >
        </mat-form-field>
        <!-- </mat-card-content> -->
        <!-- </mat-card> -->
      </mat-expansion-panel>

      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            <strong>
              Primary Contact
            </strong>
          </mat-panel-title>
          <mat-panel-description> </mat-panel-description>
        </mat-expansion-panel-header>
        <div class="row">
          <mat-form-field appearance="standard" class="col">
            <mat-label>*Contact Name</mat-label>
            <input formControlName="contactName" matInput />
            <mat-error *ngIf="contactName.hasError('required')"
              >Contact name is required</mat-error
            >
            <mat-error *ngIf="contactName.hasError('maxlength')"
              >Maximum of 100 characters</mat-error
            >
          </mat-form-field>
          <mat-form-field appearance="standard" class="col">
            <mat-label>*Contact Email</mat-label>
            <input formControlName="contactEmail" matInput />
            <mat-error *ngIf="contactEmail.hasError('required')"
              >Contact email is required</mat-error
            >
            <mat-error *ngIf="contactEmail.hasError('maxlength')"
              >Maximum of 100 characters</mat-error
            >
          </mat-form-field>
          <mat-form-field appearance="standard" class="col">
            <mat-label>*Contact Phone</mat-label>
            <input formControlName="contactPhone" matInput />
            <mat-error *ngIf="contactPhone.hasError('required')"
              >Contact phone is required</mat-error
            >
            <mat-error *ngIf="contactPhone.hasError('maxlength')"
              >Maximum of 100 characters</mat-error
            >
            <!-- <mat-error *ngIf="companyName.hasError('companyNameInUse')">{{
                  companyName.getError('companyNameInUse').value
                }}</mat-error> -->
          </mat-form-field>
        </div>
      </mat-expansion-panel>

      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            <strong>
              Company Financials (in thousands)
            </strong>
          </mat-panel-title>
          <mat-panel-description> </mat-panel-description>
        </mat-expansion-panel-header>
        <!-- <div class="row">
          <mat-form-field appearance="standard" class="col">
            <mat-label>*Assets - 2016</mat-label>
            <input formControlName="assets[0]" matInput />
            <mat-error *ngIf="contactName.hasError('required')"
              >Required</mat-error
            >
          </mat-form-field>
          <mat-form-field appearance="standard" class="col">
            <mat-label>*Assets - 2017</mat-label>
            <input formControlName="assets[1]" matInput />
            <mat-error *ngIf="contactEmail.hasError('required')"
              >Required</mat-error
            >
          </mat-form-field>
          <mat-form-field appearance="standard" class="col">
            <mat-label>*Assets - 2018</mat-label>
            <input formControlName="assets[2]" matInput />
            <mat-error *ngIf="contactPhone.hasError('required')"
              >Required</mat-error
            >
          </mat-form-field>
        </div> -->
      </mat-expansion-panel>
    </mat-accordion>
  </form>
</div>
